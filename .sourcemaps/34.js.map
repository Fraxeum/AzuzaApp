{"version":3,"sources":["../../src/pages/message/message.module.ts","../../src/pages/message/message.ts"],"names":[],"mappings":"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","file":"34.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { MessagePage } from './message';\nimport { HttpClient, HttpHeaders, HttpClientModule } from '@angular/common/http';\nimport { HttpModule } from '@angular/http';\nimport {UserProvider} from '../../providers/user/user';\nimport { TranslateModule, TranslateLoader } from '@ngx-translate/core';\nimport { TranslateHttpLoader } from '@ngx-translate/http-loader';\n\n\nexport function createTranslateLoader(http: HttpClient) {\n    return new TranslateHttpLoader(http, './assets/i18n/', '.json');\n\n}\n\n@NgModule({\n\tdeclarations: [\n\t\tMessagePage\n\t],\n\timports: [\n\t\tIonicPageModule.forChild(MessagePage), HttpModule,\n\t\tTranslateModule.forChild({\n            loader: {\n                      provide: TranslateLoader,\n                      useFactory: (createTranslateLoader),\n                      deps: [HttpClient]\n                    }\n\n        })\n\t],\n\texports: [\n\t\tMessagePage\n\t],\n\tproviders:[UserProvider]\n})\n\nexport class SupportPageModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/message/message.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, ToastController } from 'ionic-angular';\nimport { FormGroup, Validators, FormBuilder } from '@angular/forms';\nimport { UserProvider } from '../../providers/user/user';\nimport { TranslatePipe, TranslateService, LangChangeEvent } from '@ngx-translate/core';\n@IonicPage({\n  name: 'page-message',\n  segment: 'message'\n})\n\n@Component({\n  selector: 'page-message',\n  templateUrl: 'message.html'\n})\nexport class MessagePage {\n\n\n  public onForm: FormGroup;\n  data: any;\n\n  constructor(public navCtrl: NavController,public translate: TranslateService, public user: UserProvider, public _fb: FormBuilder, public toastCtrl: ToastController) {\n    this.translate.setDefaultLang('en');\n    this.translate.use('es');\n    this.onForm = this._fb.group({\n      header: ['', [Validators.required]],\n      message: ['', [Validators.required]],\n      topic: ['', [Validators.required]]\n    });\n\n    this.user.supporttopic().subscribe(\n      data => {\n\n        let datas = JSON.parse(JSON.stringify(data));\n        let data2 = JSON.parse(datas._body);\n        this.data = data2.data;\n      }\n    )\n\n  }\n\n  openChat() {\n    // console.log(proptype);\n    this.navCtrl.push('page-chat-detail');\n  }\n\n\n  send() {\n    this.user.addSupport(this.onForm.value.header, this.onForm.value.message, this.onForm.value.topic).subscribe(\n      data => {\n\n        // console.log(data);\n        let datas = JSON.parse(JSON.stringify(data));\n        // let data2 = JSON.parse(datas._body);\n        if (datas.success) {\n          console.log(datas);\n\n          this.translate.get('message-create-page').subscribe((translated: string) => {\n            // console.log(translated);\n            // //=> 'Hello world'\n      \n            // You can call instant() here\n            var success_toast = this.translate.instant('message-create-page.success_toast');\n\n          let toast = this.toastCtrl.create({\n            message: success_toast,\n            duration: 3000,\n            position: 'top'\n          });\n\n          toast.onDidDismiss(() => {\n            console.log('Dismissed toast');\n            //  this.onForm =  null;\n\n\n\n          });\n\n          toast.present();\n\n        })\n\n        }\n      },error => {\n\t\t\t\tconsole.log(error.JSON);\n\t\t\t\tsetTimeout(() => {\n\t      this.navCtrl.setRoot('page-general_error');\n\t\t\t\t  }, 1000);\n\t\t\t},\n    )\n  }\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/message/message.ts"],"sourceRoot":""}