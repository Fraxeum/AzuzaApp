{"version":3,"sources":["../../src/pages/banking-details/banking-details.module.ts","../../src/pages/banking-details/banking-details.ts"],"names":[],"mappings":"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","file":"45.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { BankingDetailsPage } from './banking-details';\nimport {UserProvider} from '../../providers/user/user';\nimport { HttpClient, HttpHeaders, HttpClientModule } from '@angular/common/http';\nimport { HttpModule } from '@angular/http';\n \nimport { TranslateModule, TranslateLoader } from '@ngx-translate/core';\nimport { TranslateHttpLoader } from '@ngx-translate/http-loader';\n\n\nexport function createTranslateLoader(http: HttpClient) {\n    return new TranslateHttpLoader(http, './assets/i18n/', '.json');\n}\n@NgModule({\n\tdeclarations: [\n\t\tBankingDetailsPage\n\t],\n\timports: [\n\t\tIonicPageModule.forChild(BankingDetailsPage), HttpModule,   HttpClientModule,\n\t\tTranslateModule.forChild({\n            loader: {\n                      provide: TranslateLoader,\n                      useFactory: (createTranslateLoader),\n                      deps: [HttpClient]\n                    }\n\n        })\n\t],\n\texports: [\n\t\tBankingDetailsPage\n\t],\n\tproviders:[UserProvider]\n})\n\nexport class MyAccountPageModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/banking-details/banking-details.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, Events, NavController, LoadingController, ToastController } from 'ionic-angular';\nimport { UserProvider } from '../../providers/user/user';\n \nimport { TranslatePipe, TranslateService, LangChangeEvent } from '@ngx-translate/core';\n@IonicPage({\n  name: 'page-banking-details',\n  segment: 'banking-details'\n})\n\n@Component({\n  selector: 'page-banking-details',\n  templateUrl: 'banking-details.html'\n})\n\nexport class BankingDetailsPage {\n\n\n\n  bankName: any;\n  accountNum: any;\n  branchCode: any;\n  bankName1: any;\n  accountNum1: any;\n  branchCode1: any;\n  ports: any[];\n  port: any;\n  data: any;\n  bank: any;\n  show: boolean = false;\n  show1: boolean = false;\n  country: any;\n  id: any;\n\n  constructor(public navCtrl: NavController, public translate: TranslateService, public events: Events, public user: UserProvider, public loadingCtrl: LoadingController, public toastCtrl: ToastController) {\n    this.translate.setDefaultLang('en');\n    this.translate.use('es');\n    this.checkAllData();\n\n\n    this.user.CountryList().subscribe(\n      data => {\n        let datas = JSON.parse(JSON.stringify(data));\n        let data2 = JSON.parse(datas._body);\n        this.ports = data2.data.splice(1);\n        console.log(this.ports);\n        this.id = localStorage.getItem('countryID');\n\n        var item = this.ports.find(item => item.value === this.id);\n        this.port = item;\n        this.country = this.port.Name;\n        console.log(this.country);\n\n      }, error => {\n        console.log(error.JSON);\n        setTimeout(() => {\n          this.navCtrl.setRoot('page-general_error');\n        }, 1000);\n      },\n    )\n\n\n  }\n\n  checkAllData() {\n    this.user.userInfo().subscribe(\n      data => {\n        let datas = JSON.parse(JSON.stringify(data));\n        let data2 = JSON.parse(datas._body);\n        \n        if (data2.success == false) {\n          console.log('Dismissed toast');\n          localStorage.removeItem('currentUser');\n          localStorage.removeItem('MemberId');\n          localStorage.removeItem(\"token\");\n          localStorage.removeItem('2fa');\n          localStorage.removeItem('chekout');\n          localStorage.removeItem('VerificationLevel');\n          this.navCtrl.setRoot('page-auth');\n\n        } else {\n\n\n\n        }\n\n      }, error => {\n        console.log(error.JSON);\n        setTimeout(() => {\n          this.navCtrl.setRoot('page-general_error');\n        }, 1000);\n      },\n    )\n  }\n\n  \n\n  ngOnInit() {\n    this.fetchEvent();\n  }\n  // call before page load\n  fetchEvent() {\n\n\n    this.user.userInfo().subscribe(\n      data => {\n        let datas = JSON.parse(JSON.stringify(data));\n        let data2 = JSON.parse(datas._body);\n        this.createUser(data2.data);\n\n\n        console.log(JSON.stringify(data2.data));\n        if (JSON.stringify(data2.data.BankingLoaded) === 'true') {\n\n          this.show = false;\n          this.show1 = true;\n          this.bank = JSON.parse(JSON.stringify(data2.data.bank));\n\n          this.bankName1 = this.bank.BankName;\n          this.accountNum1 = this.bank.AccountNumber;\n          this.branchCode1 = this.bank.BranchCode;\n\n        } else {\n          this.show1 = false;\n          this.show = true;\n        }\n      }, error => {\n        console.log(error.JSON);\n        setTimeout(() => {\n          this.navCtrl.setRoot('page-general_error');\n        }, 1000);\n      },\n    )\n\n  }\n\n  // Event create to call function\n  createUser(user) {\n    console.log('User created')\n    this.events.publish('user:created', user, Date.now());\n  }\n\n  // process send button\n  sendData() {\n\n    if (this.bankName == undefined || this.accountNum == undefined || this.branchCode == undefined) {\n      this.translate.get('banking-page.form.required_field_toast').subscribe((translated: string) => {\n        var toast1 = this.translate.instant('banking-page.form.required_field_toast');\n        let toast = this.toastCtrl.create({\n          message: toast1,\n          duration: 3000,\n          position: 'top'\n        });\n\n        toast.onDidDismiss(() => {\n          console.log('Dismissed toast');\n\n\n        });\n\n        toast.present();\n      })\n\n    } else {\n\n\n      this.user.saveBank(this.country, this.bankName, this.accountNum, this.branchCode).subscribe(\n        data1 => {\n\n          let datas2 = JSON.parse(JSON.stringify(data1));\n          console.log(datas2);\n          if (datas2.success) {\n            this.translate.get('banking-page.form.save_btn_success_toast').subscribe((translated: string) => {\n              var toast2 = this.translate.instant('banking-page.form.save_btn_success_toast');\n              let toast = this.toastCtrl.create({\n                message: toast2,\n                duration: 3000,\n                position: 'top'\n              });\n\n              toast.onDidDismiss(() => {\n                console.log('Dismissed toast');\n                this.fetchEvent();\n\n\n              });\n\n              toast.present();\n            })\n\n          } else {\n\n\n            this.translate.get('banking-page.form.save_btn_error_toast').subscribe((translated: string) => {\n              var toast3 = this.translate.instant('banking-page.form.save_btn_error_toast');\n\n              let toast = this.toastCtrl.create({\n                message: toast3,\n                duration: 3000,\n                position: 'top'\n              });\n\n              toast.onDidDismiss(() => {\n                console.log('Dismissed toast');\n                // this.fetchEvent();\n\n\n              });\n\n              toast.present();\n\n            })\n\n          }\n\n        }, error => {\n          console.log(error.JSON);\n          setTimeout(() => {\n            this.navCtrl.setRoot('page-general_error');\n          }, 1000);\n        },\n      )\n\n    }\n\n\n\n  }\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/banking-details/banking-details.ts"],"sourceRoot":""}