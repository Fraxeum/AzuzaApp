{"version":3,"sources":["../../src/pages/auth/auth.module.ts","../../src/pages/new-modal/new-modal.ts","../../src/pages/auth/auth.ts"],"names":[],"mappings":"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","file":"24.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { AuthPage } from './auth';\nimport {UserProvider} from '../../providers/user/user';\nimport { HttpClient, HttpHeaders, HttpClientModule } from '@angular/common/http';\nimport { HttpModule } from '@angular/http';\nimport { TranslateModule, TranslateLoader } from '@ngx-translate/core';\nimport { TranslateHttpLoader } from '@ngx-translate/http-loader';\n\n\nexport function createTranslateLoader(http: HttpClient) {\n    return new TranslateHttpLoader(http, './assets/i18n/', '.json');\n}\n\n\n@NgModule({\n\tdeclarations: [\n\t\tAuthPage\n\t],\n\timports: [\n\t\tIonicPageModule.forChild(AuthPage),\n\t\tHttpClientModule, \n\t\tHttpModule,\n\t\tTranslateModule.forChild({\n            loader: {\n                      provide: TranslateLoader,\n                      useFactory: (createTranslateLoader),\n                      deps: [HttpClient]\n                    }\n        })\n\t],\n\texports: [\n\t\tAuthPage\n\t],\n\tproviders:[UserProvider]\n})\n\nexport class AuthPageModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/auth/auth.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ViewController } from 'ionic-angular';\n\n@IonicPage()\n@Component({\n  selector: 'page-new-modal',\n  templateUrl: 'new-modal.html'\n})\n\nexport class NewModalPage {\n\n  content: any = null;\n  addpersonImageHTML: string = \"<img src='../../assets/img/md-person-add.svg'></img>\";\n\n  constructor(public navCtrl: NavController, public navParams: NavParams, public viewCtrl: ViewController) {\n   \n    this.content = navParams.get('html');\n  \n  }\n\n  ionViewDidLoad() {\n   \n  }\n\n  dismissModal() {\n    this.viewCtrl.dismiss(false);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/new-modal/new-modal.ts","import { Component, OnInit } from '@angular/core';\nimport { FormGroup, Validators, FormBuilder } from '@angular/forms';\nimport { IonicPage, Events, NavController, LoadingController, AlertController, MenuController, ModalController, NavParams } from 'ionic-angular';\nimport { Storage } from '@ionic/storage';\nimport { UserProvider } from '../../providers/user/user';\nimport { TranslatePipe, TranslateService } from '@ngx-translate/core';\nimport { NewModalPage } from '../new-modal/new-modal';\nimport { GlobalsProvider } from '../../providers/globals/globals';\nimport { CountryListProvider } from '../../providers/country-list/country-list';\n\n@IonicPage({\n  name: 'page-auth',\n  segment: 'auth',\n  priority: 'high'\n})\n\n@Component({\n  selector: 'page-auth',\n  templateUrl: 'auth.html'\n})\n\n\n\nexport class AuthPage implements OnInit {\n  public onLoginForm: FormGroup;\n  public onRegisterForm: FormGroup;\n  auth: string = \"login\";\n  userData: Array<any>;\n  data: any;\n  data1: any;\n  remember: any;\n  rememberMe = { email: '', password: '', checked: false };\n  countries: { name: string, id: number }[];\n  passwordType: string = 'password';\n  passwordIcon: string = 'eye-off';\n  countryList: any;\n  toggleHelp: boolean = false;\n  toggleLogin: boolean = true;\n  toggleLoginBtn: boolean = false;\n  modalDismissData: any;\n  initIndex: any = 0;\n  globals = null;\n  selectedCountryCode: number = 710;\n\n  //onthou om die selected index deur te gee met die registration request\n\n  constructor(private _fb: FormBuilder, public loadingCtrl: LoadingController, public translate: TranslateService, \n    public events: Events, public nav: NavController,\n    public forgotCtrl: AlertController, public menu: MenuController, private storage: Storage,\n    public userService: UserProvider, public modalCtrl: ModalController, public navParams: NavParams,\n    globals: GlobalsProvider, countryList: CountryListProvider) {\n\n    this.initIndex = navParams.data.tabIndex || 0;\n\n    this.translate.setDefaultLang('en');\n    this.translate.use('es');\n    this.menu.swipeEnable(false);\n    this.menu.enable(false);\n    this.countries = countryList.getCountryList();\n    this.globals = globals;\n\n    this.storage = storage;\n\n    this.toggleLogin = this.initIndex === 0 ? true : false; //set login page with true and register page with false\n\n  }\n\n  showRegister(fab: any) {\n    fab.close();\n    this.toggleLogin = !this.toggleLogin;\n    this.toggleLoginBtn = !this.toggleLoginBtn;\n  }\n\n\n  openModal() {\n    var msg:string = \"Auth-page.page-help\";\n    if(!this.toggleLogin){\n      msg = \"register-page-1.page-intro\";\n    }\n    this.translate.get(msg).subscribe(async (translated: string) => {\n      var content = this.translate.instant(translated);\n      const helpModal = this.modalCtrl.create(NewModalPage, { html: content });\n      await helpModal.present();\n    });\n  }\n\n  showHelp(fab: any) {\n    fab.close();\n    this.openModal();\n  }\n\n  //toggle password\n  hideShowPassword() {\n    this.passwordType = this.passwordType === 'text' ? 'password' : 'text';\n    this.passwordIcon = this.passwordIcon === 'eye-off' ? 'eye' : 'eye-off';\n  }\n\n\n\n  // data load before page load\n  ngOnInit() {\n    var emailPattern = \"^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$\";\n    this.onLoginForm = this._fb.group({\n      email: ['', [Validators.required]],\n      password: ['', Validators.compose([\n        Validators.required, Validators.minLength(4), Validators.maxLength(50)\n      ])],\n    });\n\n    this.onRegisterForm = this._fb.group({\n      email1: ['', [Validators.required, Validators.pattern(emailPattern)]],\n      password1: ['', Validators.compose([\n        Validators.required, Validators.minLength(4), Validators.maxLength(50)\n      ])],\n      selectedCountryCode: [710, [Validators.required]],\n    });\n\n    //  console.log(localStorage.getItem('check'));\n    this.remember = JSON.parse(localStorage.getItem('check'));\n\n    if (this.remember === null) {\n\n    } else {\n      if (this.remember.checked) {\n        this.rememberMe = { email: this.remember.email, password: this.remember.password, checked: this.remember.checked };\n      }\n    }\n\n  }\n  // go to register page\n  register() {\n    console.log(\"country code: \"+this.selectedCountryCode);\n    console.log(\"email: \"+this.onRegisterForm.value.email1);\n    console.log(\"password:\" +this.onRegisterForm.value.password1);\n    this.nav.setRoot('page-auth2', { 'country': this.selectedCountryCode, 'email': this.onRegisterForm.value.email1, 'password': this.onRegisterForm.value.password1 });\n  }\n\n\n  // email check \n\n  onChange(event: any) {\n   //this.globals.setUserData();\n/*\n    this.user.checkemail(event.value).subscribe(\n      data => {\n        let datas = JSON.parse(JSON.stringify(data));\n        let data2 = JSON.parse(datas._body);\n        console.log(data2);\n        if (data2.success) {\n          this.translate.get('register-page-1.email_already_exist_toast').subscribe((translated: string) => {\n\n            var toast1 = this.translate.instant('register-page-1.email_already_exist_toast');\n            this.user.setToast(toast1);\n          });\n        }\n\n      });*/\n  }\n\n\n     //DEBUG CODE : REMOVE LATER\n isJson(str:any) {\n  try {\n      JSON.parse(str);\n  } catch (e) {\n      return false;\n  }\n  return true;\n}\n\n\n  // login and go to home page\n  login() {\n\n    this.translate.get('Auth-page').subscribe((translated: string) => {\n\n      //set spinner\n      var loader = this.translate.instant('Auth-page.loader');\n      let loading = this.loadingCtrl.create({ content: loader });\n      loading.present();\n\n      //do login\n      this.userService.Login(this.onLoginForm.value.email, this.onLoginForm.value.password).subscribe((data:any) => {\n        \n        if(!data._body){\n          console.log(\"Body returned null. Server error.\");\n          return false;\n        }\n\n        if(!this.isJson(data._body)){\n          console.log(\"Body cannot be parse, not JSON.\");\n          return false;\n        }\n\n        let response = JSON.parse(data._body);\n\n        if(!response){\n          console.log(\"Failed to convert body\");\n          return false;\n        }\n\n        let body:any = response.data;\n\n        if(!response.success){\n          //throw network error toast\n          console.log(\"network error: success = false\");\n          this.userService.setToast(response.msg);\n          return;\n        }\n\n        if (body) {\n           \n            console.log(\"Login successful!\");\n\n            //storing body JSON\n            console.log(\"SETTING DATA: \"+body);\n            this.globals.setUserData(body).then(()=>{\n\n              this.nav.setRoot('page-home');\n\n              this.userService.setProfileData(body);\n \n             this.createUser(this.userService);\n \n              if (this.rememberMe.checked) {\n                //sets userprofile data in the provider and stores it in temp storage\n               //let rememberMe = { email: this.onLoginForm.value.email, password: '', checked: this.rememberMe.checked };\n               this.userService.storeItem('check', this.rememberMe);\n               \n             }\n\n             \n            });\n            \n          } else {\n\n            let response = this.userService.setToast(body.msg);\n\n          }\n        }, error => {\n          this.userService.setToast(\"Network error: \" + error.JSON);\n\n          setTimeout(() => {\n            loading.dismiss();\n            this.nav.setRoot('auth-page');\n          }, 3000);\n\n        },\n        () => {\n          loading.dismiss();\n        }\n      )\n\n    })\n\n\n  }\n  // Event create to call public action\n  createUser(user: any) {\n    this.events.publish('user:created', user, Date.now());\n    console.log('User created');\n  }\n\n  // forget password popup\n  forgotPass() {\n    this.nav.push('reset-password');\n  }\n\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/auth/auth.ts"],"sourceRoot":""}