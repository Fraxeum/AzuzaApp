{"version":3,"sources":["../../src/pages/change-password/change-password.module.ts","../../src/pages/change-password/change-password.ts"],"names":[],"mappings":"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","file":"44.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ChangePasswordPage } from './change-password';\nimport {UserProvider} from '../../providers/user/user';\nimport { HttpClient, HttpHeaders, HttpClientModule } from '@angular/common/http';\nimport { HttpModule } from '@angular/http';\nimport { TranslateModule, TranslateLoader } from '@ngx-translate/core';\nimport { TranslateHttpLoader } from '@ngx-translate/http-loader';\n\n\nexport function createTranslateLoader(http: HttpClient) {\n    return new TranslateHttpLoader(http, './assets/i18n/', '.json');\n}\n\n\n@NgModule({\n\tdeclarations: [\n\t\tChangePasswordPage\n\t],\n\timports: [\n\t\tIonicPageModule.forChild(ChangePasswordPage), HttpModule,\n\t\tTranslateModule.forChild({\n            loader: {\n                      provide: TranslateLoader,\n                      useFactory: (createTranslateLoader),\n                      deps: [HttpClient]\n                    }\n\n        })\n\t],\n\texports: [\n\t\tChangePasswordPage\n\t],\n\tproviders:[UserProvider]\n})\n\nexport class MyAccountPageModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/change-password/change-password.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, LoadingController, ToastController, AlertCmp, AlertController } from 'ionic-angular';\nimport { UserProvider } from '../../providers/user/user';\nimport { FormGroup, Validators, FormBuilder } from '@angular/forms';\nimport { TranslatePipe, TranslateService, LangChangeEvent } from '@ngx-translate/core';\n@IonicPage({\n  name: 'page-change-password',\n  segment: 'change-password'\n})\n\n@Component({\n  selector: 'page-change-password',\n  templateUrl: 'change-password.html'\n})\n\nexport class ChangePasswordPage {\n  public onChangePasswordForm: FormGroup;\n  showPasswordText: boolean = false;\n  // password:any;\n  newone: any;\n\n  constructor(public navCtrl: NavController, public translate: TranslateService, private _fb: FormBuilder, public forgotCtrl: AlertController, public user: UserProvider, public loadingCtrl: LoadingController, public toastCtrl: ToastController) {\n\n    // this.userinfo();\n    this.translate.setDefaultLang('en');\n    this.translate.use('es');\n    this.onChangePasswordForm = this._fb.group({\n      password: ['', Validators.compose([\n        Validators.required\n      ])],\n      newpassword: ['', Validators.compose([\n        Validators.required\n      ])]\n    });\n\n\n  }\n  // show password text and \"*******\"\n  managePassword() {\n\n    this.showPasswordText = !this.showPasswordText;\n    this.newone = this.onChangePasswordForm.value.newpassword;\n  }\n  // update password \n  updatePassword() {\n\n    this.translate.get('change-password-page.alert').subscribe((translated: string) => {\n      var title = this.translate.instant('change-password-page.alert.title');\n      var message = this.translate.instant('change-password-page.alert.message');\n      var enter_code_text = this.translate.instant('change-password-page.alert.enter_code_text');\n      var save_btn = this.translate.instant('change-password-page.alert.save_btn');\n      //=> 'Something else'\n\n      let prompt = this.forgotCtrl.create({\n        title: title,\n        message: message,\n        inputs: [\n          {\n            name: 'code',\n            placeholder: enter_code_text\n          },\n        ],\n        buttons: [\n          {\n            text: save_btn,\n            handler: data => {\n              console.log(data.code);\n              this.user.verify2fa(data.code).subscribe(\n                data => {\n\n                  console.log(data);\n\n                  let datas = JSON.parse(JSON.stringify(data));\n                  let data2 = JSON.parse(datas._body);\n\n                  console.log(data2.success);\n                  if (data2.success) {\n\n                    this.user.changepassword(this.onChangePasswordForm.value.password, this.onChangePasswordForm.value.newpassword).subscribe(\n\n                      data1 => {\n\n                        console.log(data1);\n\n                        let datas3 = JSON.parse(JSON.stringify(data1));\n\n                        console.log(datas3.success);\n                        if (datas3.success) {\n\n                          this.translate.get('change-password-page.toast1').subscribe((translated: string) => {\n                            var toast1 = this.translate.instant('change-password-page.toast1');\n\n                            let toast = this.toastCtrl.create({\n                              message: toast1,\n                              duration: 3000,\n                              position: 'top'\n                            });\n\n                            toast.onDidDismiss(() => {\n                              console.log('Dismissed toast');\n\n                            });\n\n                            toast.present();\n\n                          })\n\n\n                        } else {\n\n\n                          let toast = this.toastCtrl.create({\n                            message: datas3.msg[0],\n                            duration: 3000,\n                            position: 'top'\n                          });\n\n                          toast.onDidDismiss(() => {\n                            console.log('Dismissed toast');\n\n                          });\n\n                          toast.present();\n\n                        }\n\n                      }\n\n                    )\n\n                  }\n                  else {\n\n                    this.translate.get('change-password-page.toast2').subscribe((translated: string) => {\n                      var toast2 = this.translate.instant('change-password-page.toast2');\n\n                      let toast = this.toastCtrl.create({\n                        message: toast2,\n                        duration: 3000,\n                        position: 'top'\n                      });\n\n                      toast.onDidDismiss(() => {\n                        console.log('Dismissed toast');\n\n                      });\n\n                      toast.present();\n\n                    })\n\n                  }\n                }, error => {\n                  console.log(error.JSON);\n                  setTimeout(() => {\n                    this.navCtrl.setRoot('page-general_error');\n                  }, 1000);\n                },\n              )\n\n            }\n          }\n        ]\n      });\n      prompt.present();\n\n\n    })\n\n  }\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/change-password/change-password.ts"],"sourceRoot":""}